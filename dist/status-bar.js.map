{"version":3,"file":"status-bar.js","sources":["../node_modules/make-template/dist/makeTemplate.js","../src/status-bar.ts"],"sourcesContent":["const makeTemplate = function (strings) {\n    let html = strings[strings.length - 1];\n    let template = document.createElement('template');\n    template.innerHTML = html;\n    return template;\n};\n\nexport { makeTemplate };\n//# sourceMappingURL=makeTemplate.js.map\n","/* global HTMLElement */\n'use strict'\n\nimport { makeTemplate } from '../node_modules/make-template/dist/makeTemplate.js'\ndeclare const ShadyCSS // eslint-disable-line no-unused-vars\n\nlet template = makeTemplate`<style>\n.status-bar__container {\n  position: relative;\n  z-index: 800;\n  margin: 0;\n  width: 100%;\n  max-height: 500px;\n  color: inherit;\n  fill: currentColor;\n  background-image: linear-gradient(rgba(255,255,255,.95),rgba(255,255,255,.95));\n  background-color: currentColor;\n  transition: opacity .35s ease, max-height .5s ease;\n}\n.status-bar__container.is-hidden {\n  transition: opacity .35s ease, max-height .5s ease;\n  opacity: 0;\n  max-height: 0;\n}\n.status-bar__container[type=\"notice\"]{\n  color: var(--status-bar-notice-color, rgb(28,124,214));\n}\n.status-bar__container[type=\"notice\"] .status-bar__content{\n  box-shadow: inset 0 -1px 0 0 var(--status-bar-notice-color, rgb(28,124,214)),\n  0 1px 2px 0 rgba(0,0,0,.15);\n}\n.status-bar__container[type=\"success\"]{\n  color: var(--status-bar-success-color, rgb(55,178,77));\n}\n.status-bar__container[type=\"success\"] .status-bar__content{\n  box-shadow: inset 0 -1px 0 0 var(--status-bar-success-color, rgb(55,178,77)),\n  0 1px 2px 0 rgba(0,0,0,.15);\n}\n.status-bar__container[type=\"warning\"]{\n  color: var(--status-bar-warning-color, rgb(250,176,5));\n}\n.status-bar__container[type=\"warning\"] .status-bar__content{\n  box-shadow: inset 0 -1px 0 0 var(--status-bar-warning-color, rgb(250,176,5)),\n  0 1px 2px 0 rgba(0,0,0,.15);\n}\n.status-bar__container[type=\"error\"]{\n  color: var(--status-bar-error-color, rgb(240,62,62));\n}\n.status-bar__container[type=\"error\"] .status-bar__content{\n  box-shadow: inset 0 -1px 0 0 var(--status-bar-error-color, rgb(240,62,62)),\n  0 1px 2px 0 rgba(0,0,0,.15);\n}\n.status-bar__content{\n  position: relative;\n  display: flex;\n}\n.status-bar__container.is-detached .status-bar__content{\n  margin: 10px 0;\n  border-radius: var(--status-bar-detached-border-radius, 5px);\n  box-shadow: inset 0 0 0 1px currentColor,\n              var(--status-bar-detached-shadow, 0 0 2px 0 rgba(0,0,0,.25));\n}\n.status-bar__hide{\n  outline: none;\n  position: absolute;\n  right: 0;\n  top: 0;\n  height: 100%;\n  width: 50px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.status-bar__hide svg{\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 15px;\n  height: 15px;\n  transform: translate(-50%, -50%);\n}\n.status-bar__hide:before{\n  content: \"\";\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: currentColor;\n  opacity: 0;\n  transition: opacity .35s ease;\n}\n.status-bar__hide:hover:before, .status-bar__hide:focus:before{\n  transition: opacity .35s ease;\n  opacity: .2;\n}\n.status-bar__icon{\n  position: relative;\n  flex: 0 0 20px;\n  fill: inherit;\n  margin-left: 10px;\n}\n.status-bar__icon svg{\n  fill: inherit;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  top: calc(50% - 10px);\n  left: 0;\n}\n.status-bar__text{\n  margin: 0;\n  padding: 20px 60px 20px 15px;\n}\n.status-hidden{\n  display: none;\n}\n</style>\n<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display:none\">\n    <symbol id=\"svg-icon--success\" viewbox=\"0 0 20 20\"><path d=\"M2.929 17.071c3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142zm12.728-1.414A8 8 0 1 0 4.343 4.343a8 8 0 0 0 11.314 11.314zM4 10l2-2 3 3 5-5 2 2-7 7-5-5z\"fill-rule=\"evenodd\"/></symbol>\n    <symbol id=\"svg-icon--error\" viewbox=\"0 0 20 20\"><path d=\"M11.414 10l2.829-2.828-1.415-1.415L10 8.586 7.172 5.757 5.757 7.172 8.586 10l-2.829 2.828 1.415 1.415L10 11.414l2.828 2.829 1.415-1.415L11.414 10zM2.93 17.071c3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142zm1.414-1.414A8 8 0 1 0 15.657 4.343 8 8 0 0 0 4.343 15.657z\" fill-rule=\"evenodd\"/></symbol>\n    <symbol id=\"svg-icon--warning\" viewbox=\"0 0 20 20\"><path d=\"M2.929 17.071c3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142zm12.728-1.414A8 8 0 1 0 4.343 4.343a8 8 0 0 0 11.314 11.314zM9 5h2v6H9V5zm0 8h2v2H9v-2z\" fill-rule=\"evenodd\"/></symbol>\n    <symbol id=\"svg-icon--notice\" viewbox=\"0 0 20 20\"><path d=\"M2.929 17.071c3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142zm12.728-1.414A8 8 0 1 0 4.343 4.343a8 8 0 0 0 11.314 11.314zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" fill-rule=\"evenodd\"/></symbol>\n</svg>\n<div class=\"status-bar__container\">\n    <div class=\"status-bar__content\">\n        <div class=\"status-bar__icon\">\n            <svg>\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-icon--notice\"></use>\n            </svg>\n        </div>\n        <p class=\"status-bar__text\"><slot></slot></p>\n        <div class=\"status-bar__hide status-hidden\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\"><polygon points=\"432.449,131.185 380.748,79.483 256,204.344 131.252,79.483 79.551,131.185 204.379,256.012 79.551,380.952 131.117,432.517 256,307.634 380.883,432.517 432.449,380.952 307.621,256.012\"/></svg>\n        </div>\n    </div>\n</div>`\n\nclass StatusBar extends HTMLElement { // eslint-disable-line no-unused-vars\n  /* Typescript: declare variables */\n  private types: string[] = ['notice', 'error', 'success', 'warning'] // eslint-disable-line no-undef\n  private _container: any = null // eslint-disable-line no-undef\n  private _closeIcon: any = null // eslint-disable-line no-undef\n  private _icon: any = null // eslint-disable-line no-undef\n  private _type: string = 'notice' // eslint-disable-line no-undef\n\n  constructor () {\n    // If you define a constructor, always call super() first!\n    // This is specific to CE and required by the spec.\n    super()\n    // create shadowRoot\n    let shadowRoot = this.attachShadow({mode: 'open'})\n    // check if polyfill is used\n    if (typeof ShadyCSS !== 'undefined') {\n      ShadyCSS.prepareTemplate(template, 'status-bar') // eslint-disable-line no-undef\n      // apply css polyfill\n      ShadyCSS.styleElement(this) // eslint-disable-line no-undef\n    }\n    // add content to shadowRoot\n    shadowRoot.appendChild(document.importNode(template.content, true))\n    // initiaize variables\n    this._container = this.shadowRoot.querySelector('.status-bar__container')\n    this._closeIcon = this._container.querySelector('.status-bar__hide')\n    this._icon = this._container.querySelector('.status-bar__icon')\n  }\n  /**\n  * @method observedAttributes\n  * @description return attributes that should be watched for updates\n   */\n  static get observedAttributes () {\n    return ['closeable', 'icon', 'type', 'timeout', 'detached']\n  }\n  /**\n  * @method observedAttributes\n  * @description return attributes that should be watched for updates\n   */\n  attributeChangedCallback (attrName: string, oldVal, newVal) {\n    this[attrName] = newVal\n  }\n\n  /**\n  * @method connectedCallback\n  * @description When element is added to DOM\n   */\n  connectedCallback () {\n\n  }\n\n  /**\n   * show or hide x to close status-bar\n   */\n  set closeable (closeable: any) {\n    if (closeable === null || closeable === 'false') {\n      this._closeIcon.classList.add('status-hidden')\n      // return to shortcurcut\n      return\n    }\n    // closable is true\n    this._closeIcon.classList.remove('status-hidden')\n    // add tab index\n    this._closeIcon.setAttribute('tabindex', 0)\n    // add close trigger\n    this._closeIcon.addEventListener('click', function () {\n      this._close()\n    }.bind(this))\n    // hide status bar on focus x and Enter\n    this._closeIcon.addEventListener('keydown', function (e) {\n      if (e.which === 13) {\n        this._close()\n      }\n    }.bind(this))\n  }\n    /**\n     * close and remove the status-bar\n     */\n  public _close () {\n        // hide item\n    this._container.classList.add('is-hidden')\n        // wait until animation is done and remove item\n    setTimeout(function () {\n      this.parentNode.removeChild(this)\n    }.bind(this), 1000)\n  }\n    /**\n     * show or hide icon before message\n     */\n  set icon (icon: any) {\n    if (icon === null || icon === 'false') {\n      this._icon.classList.add('status-hidden')\n    } else {\n      this._icon.classList.remove('status-hidden')\n    }\n    this._setIconType(this._type)\n  }\n\n  private _setIconType (type: string) {\n    // set icon svg\n    if (this.types.indexOf(type) > -1) {\n      this._icon.querySelector('use').setAttribute('xlink:href', '#svg-icon--' + type)\n    }\n  }\n  /**\n   * update icon if type changes\n   */\n  set type (type: string) {\n    if (this.types.indexOf(type) > -1) {\n      this._type = type\n    }\n    // set type\n    this._container.setAttribute('type', this._type)\n    // update icon\n    this._setIconType(this._type)\n  }\n    /**\n     * remove status bar after period defined in timeout\n     */\n  set timeout (timeout) {\n    timeout = parseInt(timeout)\n    if (timeout % 1 !== 0) return\n\n    setTimeout(function () {\n      this._close()\n    }.bind(this), timeout)\n  }\n    /**\n     * toggle between detached and attached mode\n     */\n  set detached (detached: string) {\n    if (detached === null || detached === 'false') {\n      this._container.classList.remove('is-detached')\n    } else {\n      this._container.classList.add('is-detached')\n    }\n  }\n    /**\n     * since classList.toggle with a second param is not supported in IE11 and below\n     */\n  _toggle (el, cls, condition) {\n    if (condition === true) {\n      el.classList.add(cls)\n    } else {\n      el.classList.remove(cls)\n    }\n  }\n}\n\nwindow.customElements.define('status-bar', StatusBar)\n"],"names":[],"mappings":"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"}